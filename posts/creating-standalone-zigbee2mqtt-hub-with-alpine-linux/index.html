<!doctype html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Creating a standalone zigbee2mqtt hub with alpine linux" /><meta name="author" content="Steven Marks" /><meta property="og:locale" content="en" /><meta name="description" content="I have began sorting out my smart home again, I let it run to ruin a year or so ago and now I’m getting solar installed I wanted to increase my automation to make life easier and utilise my solar more efficiently once it’s installed." /><meta property="og:description" content="I have began sorting out my smart home again, I let it run to ruin a year or so ago and now I’m getting solar installed I wanted to increase my automation to make life easier and utilise my solar more efficiently once it’s installed." /><link rel="canonical" href="https://totaldebug.uk/posts/creating-standalone-zigbee2mqtt-hub-with-alpine-linux/" /><meta property="og:url" content="https://totaldebug.uk/posts/creating-standalone-zigbee2mqtt-hub-with-alpine-linux/" /><meta property="og:site_name" content="TotalDebug" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-12-15T14:13:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Creating a standalone zigbee2mqtt hub with alpine linux" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Steven Marks"},"dateModified":"2022-12-15T14:13:00+00:00","datePublished":"2022-12-15T14:13:00+00:00","description":"I have began sorting out my smart home again, I let it run to ruin a year or so ago and now I’m getting solar installed I wanted to increase my automation to make life easier and utilise my solar more efficiently once it’s installed.","headline":"Creating a standalone zigbee2mqtt hub with alpine linux","mainEntityOfPage":{"@type":"WebPage","@id":"https://totaldebug.uk/posts/creating-standalone-zigbee2mqtt-hub-with-alpine-linux/"},"url":"https://totaldebug.uk/posts/creating-standalone-zigbee2mqtt-hub-with-alpine-linux/"}</script><title>Creating a standalone zigbee2mqtt hub with alpine linux | TotalDebug</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="TotalDebug"><meta name="application-name" content="TotalDebug"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css" /><link rel="stylesheet" href="/assets/css/style.css" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"><body><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"> <img src="/assets/img/logo.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"> </a><div class="site-title"> <a href="/">TotalDebug</a></div><div class="site-subtitle fst-italic">Technology. Inside Out</div></div><ul class="nav flex-column flex-grow-1 w-100 ps-0"><li class="nav-item"> <a href="/" class="nav-link"> <i class="bi bi-house ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="bi bi-list-nested ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="bi bi-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="bi bi-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="bi bi-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/works/" class="nav-link"> <i class="bi bi-kanban ml-xl-3 mr-xl-3 unloaded"></i> <span>WORKS</span> </a></ul><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <a href="https://github.com/marksie1988" aria-label="github" target="_blank" rel="noopener noreferrer"> <i class="bi bi-github"></i> </a> <a href="https://www.linkedin.com/in/marksie1988" aria-label="linkedin" target="_blank" rel="noopener noreferrer"> <i class="bi bi-linkedin"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="bi bi-rss"></i> </a> <a href="https://discord.gg/6fmekudc8Q" aria-label="discord" > <i class="bi bi-discord"></i> </a></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container px-xxl-5"><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100" > <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Creating a standalone zigbee2mqtt hub with alpine linux</span> </span> <i id="sidebar-trigger" class="bi bi-list"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="bi bi-search"></i> <span id="search-wrapper" class="align-items-center"> <i class="bi bi-search"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel">Cancel</span></div></div><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4"><div class="post px-1 px-md-2"><h1 data-toc-skip>Creating a standalone zigbee2mqtt hub with alpine linux</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1671113580" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Dec 15, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/marksie1988">Steven Marks</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1251 words" > <em>6 min</em> read</span></div></div></div><div class="d-none"><div id="posted-date">1671113580</div><div id="updated-date"></div></div><blockquote class="d-none prompt-info" id="post-age-notification"></blockquote><div class="post-content"><p>I have began sorting out my smart home again, I let it run to ruin a year or so ago and now I’m getting solar installed I wanted to increase my automation to make life easier and utilise my solar more efficiently once it’s installed.</p><p>As part of my automation I used to run deconz with some zigbee IKEA Tradfri lights around the house, I found deconz limiting at the time and it doesn’t seem to have progressed much, whereas zigbee2mqtt seems to have moved a long way and has a lot of support.</p><p>I also had the issue that Home Assistant now runs on a virtual machine in my loft, where the conbee II signal didn’t reach my devices, so to combat this I wanted to utilise an old raspberry pi and create a zigbee hub that is easy to maintain in a set and forget fashion, if it stops working, reboot and it works again.</p><p>This is when I came up with ZigQt, an Alpine overlay that will fully configure a Zigbee2mqtt controller on a Raspberry Pi in a stateless manner. Through this article I will show you how to setup this great little ZigQt hub</p><h1 id="hardware">Hardware</h1><p>For this I have used the following hardware:</p><ul><li>Raspberry Pi 3b plus<li>POE+ Hat (Optional)<li>Micro SD Card<li>Conbee II (can use other zigbee dongles)</ul><h1 id="os-installation">OS Installation</h1><p>For the OS I have used Alpine Linux, by default Alpine is a diskless OS, meaning it loads the whole OS into memory and this makes it lightning fast.</p><h2 id="create-a-bootable-microsd-card-with-two-partitions"><span class="me-2">Create a bootable MicroSD card with two partitions</span><a href="#create-a-bootable-microsd-card-with-two-partitions" class="anchor text-muted"><i class="bi bi-hash"></i></a></h2><p>The goal is to have a MicroSD card containing two partitions:</p><ul><li><strong>The system partition:</strong> A <code class="language-plaintext highlighter-rouge">fat32</code> partition, with <code class="language-plaintext highlighter-rouge">boot</code> and <code class="language-plaintext highlighter-rouge">lba</code> flags, on a small part of the MicroSD card, enough to store the system and the applications (suggested 512MB to 2GB).<li><strong>The storage partition:</strong> A <code class="language-plaintext highlighter-rouge">ext4</code> partition occupying the rest of the MicroSD card capacity, to use as persistent storage for any configuration data that may be needed.</ul><h3 id="creating-the-partitions-assuming-you-re-using-linux"><span class="me-2">Creating the partitions (assuming you re using Linux)</span><a href="#creating-the-partitions-assuming-you-re-using-linux" class="anchor text-muted"><i class="bi bi-hash"></i></a></h3><p>Mount the SD card (this should be automated, if not, you probably know how to do that and you probably don’t need that tutorial)</p><p>List your disks:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="bi bi-code-slash small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="bi bi-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>fdisk <span class="nt">-l</span>
Disk /dev/sda: 7624 MB, 7994343424 bytes, 15613952 sectors
</pre></table></code></div></div><p>The disk you just inserted should be available in the list. It most likely should be called /dev/sda.</p><p>Create 2 partitions:</p><ul><li>512MiB partition for Alpine itself (have to be of type 0x0c - W95 FAT32 (LBA))<li>All other available space on a partition for your var folder</ul><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="bi bi-code-slash small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="bi bi-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>fdisk /dev/sda
n - p - 1 - +512M - t - 1 - c - a - w
n - p - 3 - - - w
</pre></table></code></div></div><p>Format you first partition to fat and the second to ext4</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="bi bi-code-slash small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="bi bi-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>mkfs.vfat <span class="nt">-F</span> 32 /dev/sda1
<span class="nb">sudo </span>mkfs.ext4 /dev/sda2
<span class="nb">sudo </span>mkfs.ext4 /dev/sda3
</pre></table></code></div></div><h2 id="mount-the-system-partition"><span class="me-2">Mount the system partition</span><a href="#mount-the-system-partition" class="anchor text-muted"><i class="bi bi-hash"></i></a></h2><p>Type the command <code class="language-plaintext highlighter-rouge">fdisk -l</code> to list the disks that are accessible to the computer. Make note of the device name for the SD card.</p><p>Type the command <code class="language-plaintext highlighter-rouge">mkdir /mnt/SD</code> to create a mount point for the SD card. You can replace <code class="language-plaintext highlighter-rouge">/mnt/SD</code> in any directory that you prefer.</p><p>Type the command <code class="language-plaintext highlighter-rouge">mount -t vfat /dev/sdc1 /mnt/SD</code> to mount the SD card.</p><ul><li><code class="language-plaintext highlighter-rouge">-t vfat</code> tells the operating system that it is a Windows file system.<li><code class="language-plaintext highlighter-rouge">/dev/sdc1</code> Replace with the device name from the <code class="language-plaintext highlighter-rouge">fdisk</code> output.<li><code class="language-plaintext highlighter-rouge">/mnt/SD</code> Replace with the name of the directory you created for where the disk will be accessed.</ul><p>Type the command <code class="language-plaintext highlighter-rouge">cd /mnt/SD</code> to access the files on the SD card.</p><h2 id="copy-alpine-linux-onto-the-microsd-card"><span class="me-2">Copy Alpine Linux onto the MicroSD Card</span><a href="#copy-alpine-linux-onto-the-microsd-card" class="anchor text-muted"><i class="bi bi-hash"></i></a></h2><p>Download the Alpine Linux Raspberry Pi version from <a href="https://alpinelinux.org/downloads/">Alpine Linux</a></p><p>Extract the tarball into to system (bootable fat32 2GB) partition.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="bi bi-code-slash small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="bi bi-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">tar</span> <span class="nt">-zxvf</span> ~/Downloads/alpine-rpi-3.14.0-aarch64.tar.gz
</pre></table></code></div></div><p>Since it will be a headless install (without an external monitor plugged in) you can setup minimum memory usage for the GPU, maximizing available memory, via a user custom configuration file:</p><p>(Make sure you’re still on the same working directory as the previous command. Check with pwd.)</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="bi bi-code-slash small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="bi bi-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">echo</span> <span class="s2">"gpu_mem=32"</span> <span class="o">&gt;</span> usercfg.txt
</pre></table></code></div></div><h2 id="add-zigqt-overlay"><span class="me-2">Add ZigQt Overlay</span><a href="#add-zigqt-overlay" class="anchor text-muted"><i class="bi bi-hash"></i></a></h2><p>I have created an overlay that adds everything needed to get this zigbee hub up and running. Doing this manually takes some time and would be another blog post to explain it all.</p><p>Download the latest <code class="language-plaintext highlighter-rouge">zigqt.apkovl.tar.gz</code> from <a href="https://github.com/totaldebug/zigqt/releases">ZigQt Releases</a>.</p><p>Now you can copy this to the root of the SD Card where you placed the Alpine Linux files.</p><p>At this point you could boot up the device and everything should work, however there are some additional steps you can undertake to add further customisation to the ZigQt hub.</p><h3 id="additional-configuration"><span class="me-2">Additional Configuration</span><a href="#additional-configuration" class="anchor text-muted"><i class="bi bi-hash"></i></a></h3><p>Add-on files can be copied to the root of the OS partition and will be copied to the correct location on ZigQt, these allow further customisations.</p><h4 id="interfaces"><span class="me-2">Interfaces</span><a href="#interfaces" class="anchor text-muted"><i class="bi bi-hash"></i></a></h4><p>If you would like to set a static IP Address for the hub, create an <code class="language-plaintext highlighter-rouge">interfaces</code> file in the root of the OS partition with the IP details:</p><div title="eth0 example" class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="eth0 example"><i class="bi bi-arrow-return-right"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="bi bi-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>auto lo
iface lo inet loopback

auto eth0
iface eth0 inet static
  address 10.42.0.10
  netmask 255.255.255.0
  gateway 10.42.0.1
</pre></table></code></div></div><div title="wlan0 example" class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="wlan0 example"><i class="bi bi-arrow-return-right"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="bi bi-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>auto lo
iface lo inet loopback

auto eth0
iface eth0 inet dhcp

auto wlan0
iface wlan0 inet static
  address 10.42.0.10
  netmask 255.255.255.0
  gateway 10.42.0.1
</pre></table></code></div></div><blockquote class="prompt-note"><p>The <code class="language-plaintext highlighter-rouge">lo</code> interface is recommended, but you only need add the specific interface you plan on using after this e.g. <code class="language-plaintext highlighter-rouge">eth0</code> or <code class="language-plaintext highlighter-rouge">wlan0</code> or <code class="language-plaintext highlighter-rouge">usb0</code></p></blockquote><p><a href="https://github.com/totaldebug/zigqt/blob/main/samples/interfaces">interfaces sample</a></p><h4 id="wireless-network-configuration"><span class="me-2">Wireless Network Configuration</span><a href="#wireless-network-configuration" class="anchor text-muted"><i class="bi bi-hash"></i></a></h4><p>If using wireless, you will need to create a <a href="https://github.com/totaldebug/zigqt/blob/main/samples/wpa_supplicant.conf">wpa_supplicant.conf</a> file.</p><h4 id="zigbee2mqtt-configuration"><span class="me-2">Zigbee2MQTT Configuration</span><a href="#zigbee2mqtt-configuration" class="anchor text-muted"><i class="bi bi-hash"></i></a></h4><p>A default zigbee2mqtt configuration is created during install, however this may not suite your needs in this case you can create a custom <a href="https://github.com/totaldebug/zigqt/blob/main/samples/configuration.yaml">configuration.yaml</a> file. Further configuration options can be found <a href="https://www.zigbee2mqtt.io/">here</a></p><h3 id="further-customisation"><span class="me-2">Further customisation</span><a href="#further-customisation" class="anchor text-muted"><i class="bi bi-hash"></i></a></h3><p><a href="https://github.com/totaldebug/zigqt">This repository</a> may be forked/cloned/downloaded. The main script file is <code class="language-plaintext highlighter-rouge">headless.sh</code>. Execute <code class="language-plaintext highlighter-rouge">./make.sh</code> to rebuild <code class="language-plaintext highlighter-rouge">zigqt.apkovl.tar.gz</code> with any of the changes made.</p><h1 id="on-your-pi">On your Pi</h1><h2 id="initial-boot"><span class="me-2">Initial Boot</span><a href="#initial-boot" class="anchor text-muted"><i class="bi bi-hash"></i></a></h2><p>Each time the hub reboots, the initial boot sequence will be run, this ensures that the OS is the same on every boot greatly reducing the risk of changes to the OS causing issues with the hub.</p><p>The following directories are mapped to persistent storage:</p><ul><li><code class="language-plaintext highlighter-rouge">/var</code><li><code class="language-plaintext highlighter-rouge">/etc/zigbee2mqtt</code></ul><p>This ensures certain configuration is not lost on reboot.</p><h2 id="userpassword-management"><span class="me-2">User/Password management</span><a href="#userpassword-management" class="anchor text-muted"><i class="bi bi-hash"></i></a></h2><p>The <code class="language-plaintext highlighter-rouge">root</code> user will have no password by default. It isn’t currently possible to update the password without breaking the way the overlay works, however in theory you could launch a copy of Alpine Linux without the zigqt overlay, setup a password and alternative used, run <code class="language-plaintext highlighter-rouge">lbu commit</code> to save the changes and then merge the required files with those in <code class="language-plaintext highlighter-rouge">zigqt.apkovl.tar.gz</code></p><p>If I manage to figure out an easier way to do this I will be sure to update this article.</p><h2 id="zigbee2mqtt"><span class="me-2">Zigbee2mqtt</span><a href="#zigbee2mqtt" class="anchor text-muted"><i class="bi bi-hash"></i></a></h2><p>If everything has worked, zigbee2mqtt should be accessible at the following address: <code class="language-plaintext highlighter-rouge">http://zigqt.local:8080</code>.</p><p>Any configuration changes made in the web interface will be saved to the persistent storage, so will still be in effect after a reboot.</p><h2 id="updates"><span class="me-2">Updates</span><a href="#updates" class="anchor text-muted"><i class="bi bi-hash"></i></a></h2><p>To update to newer versions, simply reboot, the latest available zigbee2mqtt will be installed.</p><h1 id="final-thoughts">Final thoughts</h1><p>At the moment this is the best solution I could think of to provide a fully functioning and maintenance free version of Zigbee2mqtt on a standalone Raspberry Pi.</p><p>I hope to have a solution for the user and password management someday, but if you know a way to get around this please do let me know.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="bi bi-folder2-open mr-1"></i> <a href="/categories/home-automation/" >Home Automation</a ></div><div class="post-tags"> <i class="bi bi-tags mr-1"></i> <a href="/tags/zigbee2mqtt/" class="post-tag no-text-decoration" >zigbee2mqtt</a> <a href="/tags/zigbee/" class="post-tag no-text-decoration" >zigbee</a> <a href="/tags/alpine/" class="post-tag no-text-decoration" >alpine</a> <a href="/tags/raspberry/" class="post-tag no-text-decoration" >raspberry</a> <a href="/tags/pi/" class="post-tag no-text-decoration" >pi</a> <a href="/tags/mqtt/" class="post-tag no-text-decoration" >mqtt</a> <a href="/tags/stateless/" class="post-tag no-text-decoration" >stateless</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2" ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted me-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Creating%20a%20standalone%20zigbee2mqtt%20hub%20with%20alpine%20linux%20-%20TotalDebug&url=https%3A%2F%2Ftotaldebug.uk%2Fposts%2Fcreating-standalone-zigbee2mqtt-hub-with-alpine-linux%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter" > <i class="fa-fw bi bi-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Creating%20a%20standalone%20zigbee2mqtt%20hub%20with%20alpine%20linux%20-%20TotalDebug&u=https%3A%2F%2Ftotaldebug.uk%2Fposts%2Fcreating-standalone-zigbee2mqtt-hub-with-alpine-linux%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook" > <i class="fa-fw bi bi-facebook"></i> </a> <a href="https://telegram.me/share?text=Creating%20a%20standalone%20zigbee2mqtt%20hub%20with%20alpine%20linux%20-%20TotalDebug&url=https%3A%2F%2Ftotaldebug.uk%2Fposts%2Fcreating-standalone-zigbee2mqtt-hub-with-alpine-linux%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram" > <i class="fa-fw bi bi-telegram"></i> </a> <a href="https://news.ycombinator.com/submitlink?t=Creating%20a%20standalone%20zigbee2mqtt%20hub%20with%20alpine%20linux%20-%20TotalDebug&u=https%3A%2F%2Ftotaldebug.uk%2Fposts%2Fcreating-standalone-zigbee2mqtt-hub-with-alpine-linux%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="HackerNews" target="_blank" rel="noopener" aria-label="HackerNews" > <i class="fa-fw bi bi-hacker-news"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Ftotaldebug.uk%2Fposts%2Fcreating-standalone-zigbee2mqtt-hub-with-alpine-linux%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin" > <i class="fa-fw bi bi-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/integrate-lux-inverter-with-home-assistant/">Integrating a Lux Power Inverter with Home Assistant</a><li class="text-truncate lh-lg"> <a href="/posts/automating-proxmox-with-terraform-ansible/">Automating deployments using Terraform with Proxmox and ansible</a><li class="text-truncate lh-lg"> <a href="/posts/jekyll-post-series-links/">Add series links to Jekyll posts</a><li class="text-truncate lh-lg"> <a href="/posts/two-factor-authentication-worth-really-add-security/">Two-Factor Authentication: is it worth it, does it really add more security?</a><li class="text-truncate lh-lg"> <a href="/posts/last4solar-my-solar-nightmare/">Last4Solar - My solar nightmare!</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/centos/">centos</a> <a class="post-tag btn btn-outline-primary" href="/tags/docker/">docker</a> <a class="post-tag btn btn-outline-primary" href="/tags/linux/">linux</a> <a class="post-tag btn btn-outline-primary" href="/tags/unifi/">unifi</a> <a class="post-tag btn btn-outline-primary" href="/tags/best-practices/">best practices</a> <a class="post-tag btn btn-outline-primary" href="/tags/code-quality/">code quality</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/configuration/">configuration</a> <a class="post-tag btn btn-outline-primary" href="/tags/container/">container</a> <a class="post-tag btn btn-outline-primary" href="/tags/exchange/">exchange</a></div></div></div><div id="toc-wrapper" class="ps-0 pe-4 mb-5"><div class="panel-heading ps-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ms-1" data-toc-skip> Further Reading</h3><div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><div class="col"> <a href="/posts/home-assistant-medication-notification-node-red/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1673032920" data-df="ll" > Jan 6, 2023 </em><h4 class="pt-0 my-2" data-toc-skip>Home Assistant medication notification using Node-RED</h4><div class="text-muted small"><p> For around 4 years I have had to take medication for Rheumatoid Arthritis once every two weeks, I always forget when I last took the medication and end up skipping which causes me pain. Due to thi...</p></div></div></a></div><div class="col"> <a href="/posts/integrate-lux-inverter-with-home-assistant/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1691492751" data-df="ll" > Aug 8, 2023 </em><h4 class="pt-0 my-2" data-toc-skip>Integrating a Lux Power Inverter with Home Assistant</h4><div class="text-muted small"><p> After having solar installed I wanted to get it integrated into home assistant to enable historical monitoring and also automation around my home. At this time I haven’t implemented any automatio...</p></div></div></a></div><div class="col"> <a href="/posts/python-method-aliases/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1691487577" data-df="ll" > Aug 8, 2023 </em><h4 class="pt-0 my-2" data-toc-skip>A Pythonic way to alias methods?</h4><div class="text-muted small"><p> An alias method allows accesses to the original method via a different name. You can define your own alias method by adding the statement a = b to your class definition. This creates an alias metho...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/configuring-homer-dashboard/" class="btn btn-outline-primary" prompt="Older" ><p>Configuring Homer Dashboard</p></a> <a href="/posts/home-assistant-medication-notification-node-red/" class="btn btn-outline-primary" prompt="Newer" ><p>Home Assistant medication notification using Node-RED</p></a></div><script type="text/javascript"> (function () { const origin = 'https://giscus.app'; const iframe = 'iframe.giscus-frame'; const lightTheme = 'light'; const darkTheme = 'dark_dimmed'; let initTheme = lightTheme; const html = document.documentElement; if ( (html.hasAttribute('data-mode') && html.getAttribute('data-mode') === 'dark') || (!html.hasAttribute('data-mode') && window.matchMedia('(prefers-color-scheme: dark)').matches) ) { initTheme = darkTheme; } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'totaldebug/totaldebug.uk', 'data-repo-id': 'MDEwOlJlcG9zaXRvcnkzMTkxMTkxNTE=', 'data-category': 'General', 'data-category-id': 'DIC_kwDOEwVfL84CPpH4', 'data-mapping': 'pathname', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': 'en', crossorigin: 'anonymous', async: '' }; let giscusScript = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value) ); document.getElementById('tail-wrapper').appendChild(giscusScript); addEventListener('message', (event) => { if ( event.source === window && event.data && event.data.direction === ModeToggle.ID ) { /* global theme mode changed */ const mode = event.data.message; const theme = mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme; const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); })(); </script></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/centos/">centos</a> <a class="post-tag btn btn-outline-primary" href="/tags/docker/">docker</a> <a class="post-tag btn btn-outline-primary" href="/tags/linux/">linux</a> <a class="post-tag btn btn-outline-primary" href="/tags/unifi/">unifi</a> <a class="post-tag btn btn-outline-primary" href="/tags/best-practices/">best practices</a> <a class="post-tag btn btn-outline-primary" href="/tags/code-quality/">code quality</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/configuration/">configuration</a> <a class="post-tag btn btn-outline-primary" href="/tags/container/">container</a> <a class="post-tag btn btn-outline-primary" href="/tags/exchange/">exchange</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div></div><footer><div class="container px-lg-4"><div class="d-flex justify-content-center align-items-center text-muted mx-md-3"><p>Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a></p><p>© 2023 <a href="https://github.com/marksie1988">Steven Marks</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p></div></div></footer><div id="mask"></div><button id="back-to-top" aria-label="back-to-top" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button> <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.6.1/dist/jquery.min.js,npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.6/dayjs.min.js,npm/dayjs@1.11.6/locale/en.min.js,npm/dayjs@1.11.6/plugin/relativeTime.min.js,npm/dayjs@1.11.6/plugin/localizedFormat.min.js,npm/tocbot@4.20.1/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-ZDGYQV98HT"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-ZDGYQV98HT'); }); </script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="card post-preview"> <a style="text-decoration: none;" href="{url}"><div class="card-body"><h1 class="card-title"> {title}</h1><div class="card-text post-content"> {snippet}</div><div class="post-meta text-muted d-flex"><div class="mr-auto"> {categories} {tags}</div></div></div></a></div>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<i class="bi bi-folder"></i>${value}`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<i class="bi bi-tag"></i>${value}`; } } } }); </script>
