<!doctype html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Sqitch, Sensible database change management" /><meta name="author" content="Steven Marks" /><meta property="og:locale" content="en" /><meta name="description" content="Sqitch is a fairly new open source database change management tool, allowing for easy version control without having to manage hundreds of files." /><meta property="og:description" content="Sqitch is a fairly new open source database change management tool, allowing for easy version control without having to manage hundreds of files." /><link rel="canonical" href="https://totaldebug.uk/posts/sqitch-sensible-database-change-management/" /><meta property="og:url" content="https://totaldebug.uk/posts/sqitch-sensible-database-change-management/" /><meta property="og:site_name" content="TotalDebug" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-07-07T00:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Sqitch, Sensible database change management" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Steven Marks"},"dateModified":"2022-06-13T22:14:49+01:00","datePublished":"2021-07-07T00:00:00+01:00","description":"Sqitch is a fairly new open source database change management tool, allowing for easy version control without having to manage hundreds of files.","headline":"Sqitch, Sensible database change management","mainEntityOfPage":{"@type":"WebPage","@id":"https://totaldebug.uk/posts/sqitch-sensible-database-change-management/"},"url":"https://totaldebug.uk/posts/sqitch-sensible-database-change-management/"}</script><title>Sqitch, Sensible database change management | TotalDebug</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="TotalDebug"><meta name="application-name" content="TotalDebug"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="" /><link rel="stylesheet" href="/assets/css/style.css" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"><body><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"> <img src="/assets/img/logo.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"> </a><div class="site-title"> <a href="/">TotalDebug</a></div><div class="site-subtitle fst-italic">Technology. Inside Out</div></div><ul class="nav flex-column flex-grow-1 w-100 ps-0"><li class="nav-item"> <a href="/" class="nav-link"> <i class="bi bi-house ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="bi bi-list-nested ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="bi bi-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="bi bi-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="bi bi-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/works/" class="nav-link"> <i class="bi bi-kanban ml-xl-3 mr-xl-3 unloaded"></i> <span>WORKS</span> </a></ul><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <a href="https://github.com/marksie1988" aria-label="github" target="_blank" rel="noopener noreferrer"> <i class="bi bi-github"></i> </a> <a href="https://www.linkedin.com/in/marksie1988" aria-label="linkedin" target="_blank" rel="noopener noreferrer"> <i class="bi bi-linkedin"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="bi bi-rss"></i> </a> <a href="https://discord.gg/6fmekudc8Q" aria-label="discord" > <i class="bi bi-discord"></i> </a> <a href="https://github.com/marksie1988" aria-label="github" > <i class="bi bi-github"></i> </a></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container px-xxl-5"><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100" > <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Sqitch, Sensible database change management</span> </span> <i id="sidebar-trigger" class="bi bi-list"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="bi bi-search"></i> <span id="search-wrapper" class="align-items-center"> <i class="bi bi-search"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel">Cancel</span></div></div><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4"><div class="post px-1 px-md-2"><h1 data-toc-skip>Sqitch, Sensible database change management</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1625612400" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jul 7, 2021 </em> </span> <span> Updated <em class="" data-ts="1655154889" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jun 13, 2022 </em> </span><div class="mt-3 mb-3 post-thumbnail"><figure><picture> <source type="image/webp" srcset="/assets/img/posts/sqitch-sensible-database-change-management/thumb.webp" /> <a href="/assets/img/posts/sqitch-sensible-database-change-management/thumb.png" class="popup img-link post-title-img"><img data-src="/assets/img/posts/sqitch-sensible-database-change-management/thumb.png" alt="Preview Image" class="lazyload" data-proofer-ignore></a> </picture></figure></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/marksie1988">Steven Marks</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1017 words" > <em>5 min</em> read</span></div></div></div><div class="d-none"><div id="posted-date">1625612400</div><div id="updated-date">1655154889</div></div><blockquote class="d-none prompt-info" id="post-age-notification"></blockquote><div class="post-content"><h2 id="overview"><span class="me-2">Overview</span><a href="#overview" class="anchor text-muted"><i class="bi bi-hash"></i></a></h2><p>Recently I have been working on a few projects that utilise PostgreSQL databases, as the projects have grown our team has found it increasingly more difficult to manage all of the database changes between dev / staging / prod without missing parts of functions or missing table columns, especially over long development periods.</p><p>Due to this I spent the past month looking into many different ways to manage this, we ended up landing on sqitch, it wasnâ€™t the first product tested and below I will run through some of the others that I found and the issues we saw with them.</p><h2 id="expectations"><span class="me-2">Expectations</span><a href="#expectations" class="anchor text-muted"><i class="bi bi-hash"></i></a></h2><p>So what did our team expect would be delivered by the database change management tool?</p><p>Well here is the list:</p><ul><li>Native SQL support<li>No limitations on SQL functionality<li>Open Source, or have a feature rich community edition that is well supported<li>Easily managed version control, ideally without need for new SQL files for each change<li>Ability to rollback changes to specific versions<li>Unix command line utility for easy automation</ul><h2 id="the-testing-phase"><span class="me-2">The testing phase</span><a href="#the-testing-phase" class="anchor text-muted"><i class="bi bi-hash"></i></a></h2><p>Over about a month I tested the following products:</p><h3 id="flyway"><span class="me-2">Flyway</span><a href="#flyway" class="anchor text-muted"><i class="bi bi-hash"></i></a></h3><p>Flyway was very close to being the chosen product, it had most of our requirements with a few limitations, but it was the best I had found.</p><p><em>Pros:</em></p><ul><li>Uses native SQL<li>Easy file naming</ul><p><em>Cons:</em></p><ul><li>A new file is required for every change, this would lead to hundreds of version files<li>Inability to rollback to a specific version in time<li>Heavily limited functionality on the community edition<li>More complex implementation</ul><h3 id="liqibase"><span class="me-2">Liqibase</span><a href="#liqibase" class="anchor text-muted"><i class="bi bi-hash"></i></a></h3><p>Liqibase was looking great, until I discovered that the main language used is XML, SQL is supported, however most documentation is XML based and I didnâ€™t have the time to spend learning the XML format to eventually find out that some specific feature we use isnâ€™t supported by this format.</p><p>All in I found that it was more complex to get started than Flyway and the documentation wasnâ€™t the best.</p><p><em>Pros:</em></p><ul><li>More features in the free version than Flyway<li>Diff feature to compare two databases<li>Rollback is free<li>Utilises one file for migrations</ul><p><em>Cons:</em></p><ul><li>XML is the primary language used<li>Targeted rollback is an addon</ul><h3 id="sql-alchemy"><span class="me-2">SQL Alchemy</span><a href="#sql-alchemy" class="anchor text-muted"><i class="bi bi-hash"></i></a></h3><p>As this is an ORM it was removed from the running fairly quickly, there is no native SQL support, which means a high chance of missing SQL functionality, one such feature was the ability to create and update Postgres functions</p><p><em>Pros:</em></p><ul><li>Uses Python so can be baked into projects<li>Development Teams donâ€™t need to know/learn SQL</ul><p><em>Cons:</em></p><ul><li>Functionality limited to what the developers implement<li>Risk of compatibility issues in the future<li>No support for native SQL files</ul><h3 id="sqitch"><span class="me-2">Sqitch</span><a href="#sqitch" class="anchor text-muted"><i class="bi bi-hash"></i></a></h3><p>Sqitch was the last option on the table, I found this tool when searching YouTube when a very early version was being presented.</p><p>The idea of Sqitch is to use Version control to track the changes in files, for our requirements this was perfect. It meant I could update existing SQL files and Sqitch would know a change was made and could then be deployed.</p><p>One downside to this plan is that not all these features are implemented yet. Although the developers working on the project are making massive strides and I feel it wont be long until they have achieved the original goal they set out for.</p><p><em>Pros:</em></p><ul><li>Uses native SQL<li>Utilises a git like version control system<li>You always edit the original file<li>Open source allowing you to customise as needed<li>Very responsive community<li>Ability to support almost any database</ul><p><em>Cons:</em></p><ul><li>Some expected features are not implemented yet<li>No commercial support, only community based</ul><h2 id="implementation"><span class="me-2">Implementation</span><a href="#implementation" class="anchor text-muted"><i class="bi bi-hash"></i></a></h2><p>Now that we have tested and decided that Sqitch is the product for us, its time to implement the solution.</p><p>Installation is super simple, its written in Perl so can be installed on almost any system, or you can use it within a Docker container.</p><p>I wonâ€™t cover the installation as its easy enough and documented well on the <a href="http://sqitch.org/">sqitch website</a>.</p><p>One thing that I would recommend is to change the default location of the files, by default Sqitch will add <code class="language-plaintext highlighter-rouge">deploy</code>, <code class="language-plaintext highlighter-rouge">revert</code> and <code class="language-plaintext highlighter-rouge">verify</code> to the root directory. Your SQL goes inside these directories. I prefer to have these in a separate directory to keep the root directory tidy, to do this you would run a command similar to below when initialising your repository:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="bi bi-code-slash small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="bi bi-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>sqitch init myApp <span class="nt">--top-dir</span> sql <span class="nt">--uri</span> https://github.com/totaldebug/sqitch_demo <span class="nt">--engine</span> pg
</pre></table></code></div></div><p>This command will tell Sqitch that you want to <code class="language-plaintext highlighter-rouge">init</code> a sqitch project within the directory <code class="language-plaintext highlighter-rouge">sql</code> for the GitHub repository <code class="language-plaintext highlighter-rouge">sqitch_demo</code> and with the engine <code class="language-plaintext highlighter-rouge">pg</code> (PostgreSQL) there are other options and databases supported all listed <a href="http://sqitch.org/docs/manual/sqitch-init/">here</a></p><p>Once you have initialised the project you are ready to add a change. The basic pattern is:</p><ul><li>Create a branch<li>Add SQL changes<li>Modify the code as needed<li>Commit<li>Merge to master</ul><p>So when first starting out you would want to create the schema to do this you would:</p><ol><li>Create a branch in your Git repo<li>Run <code class="language-plaintext highlighter-rouge">sqitch add appschema</code><li>Edit <code class="language-plaintext highlighter-rouge">sql/deploy/appschema.sql</code>, <code class="language-plaintext highlighter-rouge">sql/revert/appschema.sql</code> and <code class="language-plaintext highlighter-rouge">sql/verify/appschema.sql</code><li>Run <code class="language-plaintext highlighter-rouge">sqitch deploy db:pg://user@127.0.0.1:5432/sqitch_demo</code> to deploy the changes<li>Edit any code as normal<li>Run any tests<li>Commit your changes<li>Merge the changes back to the main branch</ol><p>In order to ensure that your revert SQL is working as expected, it is a good idea to revert and redeploy your changes:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="bi bi-code-slash small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="bi bi-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>sqitch rebase <span class="nt">--onto</span> @HEAD^ <span class="nt">-y</span>
</pre></table></code></div></div><p>This command will revert the last change, and redeploy it to the database. This is essentially a shorter way of running:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="bi bi-code-slash small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="bi bi-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>sqitch revert <span class="nt">--to</span> @HEAD^ <span class="nt">-y</span> <span class="o">&amp;&amp;</span> sqitch deploy db:pg://user@127.0.0.1:5432/sqitch_demo
</pre></table></code></div></div><p>When the <code class="language-plaintext highlighter-rouge">deploy</code> command is issued, sqitch will run down the plan file and execute each change that is required.</p><p>If this is the first time deploying Sqitch to a database, it will automatically create all the required tables to track future deployments and changes.</p><h2 id="conclusion"><span class="me-2">Conclusion</span><a href="#conclusion" class="anchor text-muted"><i class="bi bi-hash"></i></a></h2><p>Iâ€™ve barely scratched the surface of Sqitchâ€™s capabilities. To say how long Git and change management has been around, its amazing that its taken this long for someone to get it right. If you are having issues with managing database change, I highly suggest that you try Sqitch.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="bi bi-folder2-open mr-1"></i> <a href="/categories/database/" >Database</a >, <a href="/categories/automation/" >Automation</a ></div><div class="post-tags"> <i class="bi bi-tags mr-1"></i> <a href="/tags/sqitch/" class="post-tag no-text-decoration" >sqitch</a> <a href="/tags/db/" class="post-tag no-text-decoration" >db</a> <a href="/tags/change/" class="post-tag no-text-decoration" >change</a> <a href="/tags/management/" class="post-tag no-text-decoration" >management</a> <a href="/tags/database/" class="post-tag no-text-decoration" >database</a> <a href="/tags/automation/" class="post-tag no-text-decoration" >automation</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2" ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted me-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Sqitch,%20Sensible%20database%20change%20management%20-%20TotalDebug&url=https%3A%2F%2Ftotaldebug.uk%2Fposts%2Fsqitch-sensible-database-change-management%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter" > <i class="fa-fw bi bi-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Sqitch,%20Sensible%20database%20change%20management%20-%20TotalDebug&u=https%3A%2F%2Ftotaldebug.uk%2Fposts%2Fsqitch-sensible-database-change-management%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook" > <i class="fa-fw bi bi-facebook"></i> </a> <a href="https://telegram.me/share?text=Sqitch,%20Sensible%20database%20change%20management%20-%20TotalDebug&url=https%3A%2F%2Ftotaldebug.uk%2Fposts%2Fsqitch-sensible-database-change-management%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram" > <i class="fa-fw bi bi-telegram"></i> </a> <a href="https://news.ycombinator.com/submitlink?t=Sqitch,%20Sensible%20database%20change%20management%20-%20TotalDebug&u=https%3A%2F%2Ftotaldebug.uk%2Fposts%2Fsqitch-sensible-database-change-management%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="HackerNews" target="_blank" rel="noopener" aria-label="HackerNews" > <i class="fa-fw bi bi-hacker-news"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Ftotaldebug.uk%2Fposts%2Fsqitch-sensible-database-change-management%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin" > <i class="fa-fw bi bi-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/two-factor-authentication-worth-really-add-security/">Two-Factor Authentication: is it worth it, does it really add more security?</a><li class="text-truncate lh-lg"> <a href="/posts/last4solar-my-solar-nightmare/">Last4Solar - My solar nightmare!</a><li class="text-truncate lh-lg"> <a href="/posts/jekyll-post-series-links/">Add series links to Jekyll posts</a><li class="text-truncate lh-lg"> <a href="/posts/proxmox-template-with-cloud-image-and-cloud-init/">Proxmox Template with Cloud Image and Cloud Init</a><li class="text-truncate lh-lg"> <a href="/posts/automating-proxmox-with-terraform-ansible/">Automating deployments using Terraform with Proxmox and ansible</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/centos/">centos</a> <a class="post-tag btn btn-outline-primary" href="/tags/docker/">docker</a> <a class="post-tag btn btn-outline-primary" href="/tags/linux/">linux</a> <a class="post-tag btn btn-outline-primary" href="/tags/unifi/">unifi</a> <a class="post-tag btn btn-outline-primary" href="/tags/best-practices/">best practices</a> <a class="post-tag btn btn-outline-primary" href="/tags/code-quality/">code quality</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/configuration/">configuration</a> <a class="post-tag btn btn-outline-primary" href="/tags/container/">container</a> <a class="post-tag btn btn-outline-primary" href="/tags/exchange/">exchange</a></div></div></div><div id="toc-wrapper" class="ps-0 pe-4 mb-5"><div class="panel-heading ps-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ms-1" data-toc-skip> Further Reading</h3><div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><div class="col"> <a href="/posts/home-assistant-medication-notification-node-red/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1673032920" data-df="ll" > Jan 6, 2023 </em><h4 class="pt-0 my-2" data-toc-skip>Home Assistant medication notification using Node-RED</h4><div class="text-muted small"><p> For around 4 years I have had to take medication for Rheumatoid Arthritis once every two weeks, I always forget when I last took the medication and end up skipping which causes me pain. Due to thi...</p></div></div></a></div><div class="col"> <a href="/posts/automating-proxmox-with-terraform-ansible/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1683363809" data-df="ll" > May 6, 2023 </em><h4 class="pt-0 my-2" data-toc-skip>Automating deployments using Terraform with Proxmox and ansible</h4><div class="text-muted small"><p> Over the years my home lab has grown and become more and more difficult to maintain, especially because some servers I build and forget as they function so well. I have found recently though that ...</p></div></div></a></div><div class="col"> <a href="/posts/proxmox-template-with-cloud-image-and-cloud-init/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1664909640" data-df="ll" > Oct 4, 2022 </em><h4 class="pt-0 my-2" data-toc-skip>Proxmox Template with Cloud Image and Cloud Init</h4><div class="text-muted small"><p> Updated to latest Ubuntu image &amp;amp; Added enable for qemu service Using Cloud images and Cloud init with Proxmox is the quickest, most efficient way to deploy servers at this time. Cloud imag...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/using-clonezilla-to-migrate-multi-disk-server/" class="btn btn-outline-primary" prompt="Older" ><p>Using CloneZilla to migrate multiple disk server</p></a> <a href="/posts/cookiecutter-automate-project-creation/" class="btn btn-outline-primary" prompt="Newer" ><p>Cookiecutter: Automate project creation!</p></a></div><script type="text/javascript"> (function () { const origin = 'https://giscus.app'; const iframe = 'iframe.giscus-frame'; const lightTheme = 'light'; const darkTheme = 'dark_dimmed'; let initTheme = lightTheme; const html = document.documentElement; if ( (html.hasAttribute('data-mode') && html.getAttribute('data-mode') === 'dark') || (!html.hasAttribute('data-mode') && window.matchMedia('(prefers-color-scheme: dark)').matches) ) { initTheme = darkTheme; } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'totaldebug/totaldebug.uk', 'data-repo-id': 'MDEwOlJlcG9zaXRvcnkzMTkxMTkxNTE=', 'data-category': 'General', 'data-category-id': 'DIC_kwDOEwVfL84CPpH4', 'data-mapping': 'pathname', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': 'en', crossorigin: 'anonymous', async: '' }; let giscusScript = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value) ); document.getElementById('tail-wrapper').appendChild(giscusScript); addEventListener('message', (event) => { if ( event.source === window && event.data && event.data.direction === ModeToggle.ID ) { /* global theme mode changed */ const mode = event.data.message; const theme = mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme; const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); })(); </script></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/centos/">centos</a> <a class="post-tag btn btn-outline-primary" href="/tags/docker/">docker</a> <a class="post-tag btn btn-outline-primary" href="/tags/linux/">linux</a> <a class="post-tag btn btn-outline-primary" href="/tags/unifi/">unifi</a> <a class="post-tag btn btn-outline-primary" href="/tags/best-practices/">best practices</a> <a class="post-tag btn btn-outline-primary" href="/tags/code-quality/">code quality</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/configuration/">configuration</a> <a class="post-tag btn btn-outline-primary" href="/tags/container/">container</a> <a class="post-tag btn btn-outline-primary" href="/tags/exchange/">exchange</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div></div><footer><div class="container px-lg-4"><div class="d-flex justify-content-center align-items-center text-muted mx-md-3"><p>Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a></p><p>Â© 2023 <a href="https://github.com/marksie1988">Steven Marks</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p></div></div></footer><div id="mask"></div><button id="back-to-top" aria-label="back-to-top" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.0/dist/jquery.min.js,npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.7/dayjs.min.js,npm/dayjs@1.11.7/locale/en.min.js,npm/dayjs@1.11.7/plugin/relativeTime.min.js,npm/dayjs@1.11.7/plugin/localizedFormat.min.js,npm/tocbot@4.21.0/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-ZDGYQV98HT"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-ZDGYQV98HT'); }); </script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="card post-preview"> <a style="text-decoration: none;" href="{url}"><div class="card-body"><h1 class="card-title"> {title}</h1><div class="card-text post-content"> {snippet}</div><div class="post-meta text-muted d-flex"><div class="mr-auto"> {categories} {tags}</div></div></div></a></div>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<i class="bi bi-folder"></i>${value}`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<i class="bi bi-tag"></i>${value}`; } } } }); </script>
